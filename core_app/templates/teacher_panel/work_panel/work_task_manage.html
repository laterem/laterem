{% extends 'teacher_panel/teacher_panel_base.html' %}
{% load static %}
{% load laterem %}
{% load cache_bust %}

{% block content %}
    <script src="{% static 'js/manage-data-edit.js' %}?{% cache_bust %}"></script>
    <form method="post" id="main-form">
        {% csrf_token %}
        <div style="display: grid; grid-template-columns: auto max-content max-content; align-items: center;">
            <div style="grid-column: 1;">
                <div style="grid-column: 1;"><input value="{{work.name}}" disabled="true" style="font-size: larger;" id="work_name" name="work_name" class="work-name"/><button type="submit" name="edit_data" style="visibility: hidden;"></button></div>
            </div>
            <button type="button" id="edit_data" name="edit_data" style="grid-column: 2;" class="work-name button-icon" onclick="data_edit(this)"><div style="width: 2em; padding: 0;">{% include "icons/pencil-icon.html" %}</div></button>
            <button class="button-icon" name="delete_work" style="grid-column: 3;"><div style="width: 2em; padding: 0;">{% include "icons/delete-icon.html" %}</div><span>Удалить</span></button>
        </div>
        <p>ID: {{work.id}}</p>
    </form>
    {% if task.ltc_fields %}
        <div id="task-field-table-header">
            <span style="font-size: larger; margin-left: 5px;">{{ task.name }}</span>
        </div>
        <div id="task-field-table">
            {% for name, value in task.ltc_fields %}
                <div style="grid-column: 1; border-left: none;">
                    {{ name }}
                </div>
                <div style="grid-column: 2;">
                    <input name="name" value="{{ value }}"/>
                </div> 
            {% endfor %}
        </div>
    {% else %}
        <span style="font-size: larger;">В шаблоне {{ task.name }} нет изменяемых полей</span>
    {% endif %}
{% endblock %}
