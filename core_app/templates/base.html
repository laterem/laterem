{% load static %}
{% load taskview_tags %}
<!DOCTYPE html>
<html>
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"> -->
    <head>
        <meta charset="UTF-8"/>
        <link rel="shortcut icon" type="image/png" href="{% static 'outline.svg' %}"/>
        <title>{{title}}</title>
        <style type="text/css">
            body {
                background: #333; /* Цвет фона */
                color: rgb(255, 245, 230); /* Цвет текста */
                font-family: Arial, Helvetica, sans-serif;
             margin: 0; /* Обнуляем отступы браузера */
            }
            h1 {
             margin: 0px 5px 5px 0px; /* Убираем отступы */
             font-size: 28px;
            }
            h2 {
             margin-top: 0; /* Убираем отступ сверху */
             margin: 0px 5px 5px 0px; /* Убираем отступы */
             font-size: 20px;
            }
            #menu { /* Левая колонка */
             float: left; /* Обтекание справа */
             /* border: 1px solid #292929; Параметры рамки вокруг */
             background: #292929;
             width: 20%;
             height: 100%;
             padding: 5px; /* Поля вокруг текста */
             margin: 30px 10px 20px 5px; /* Значения отступов */
             border-radius: 5px;
            }
            #menu div {
             padding: 2px; /* Поля вокруг ссылок */
            }
            #menu a { 
                color: rgb(255, 235, 210); /* Цвет текста */
             display: block; /* Отображать ссылку как блок */
             padding: 2px; /* Поля вокруг ссылок */
             margin: 1px; /* Отступы вокруг */
             font-size: 0.9em; /* Размер текста */
             text-decoration: none; /* Убираем подчеркивание текста */
            }
            #menu a:hover { 
             margin: 0; /* Убираем поля */
            }
            #content { /* Правая колонка */
             margin: 30px 5px 20px 10px; /* Значения отступов */
             margin-bottom: 60px;
             margin-left: 22%;
             width: 56%;
             padding: 5px; /* Поля вокруг текста */
             overflow:hidden;
             background: #373737;
             padding: 10px;
             border-radius: 20px;
            }
            .line {
             border-bottom: 1px groove #333; /* Линия между ссылками */
            }
            #foot { /* Нижний блок */
             padding: 5px; /* Поля вокруг текста */
             clear: both; /* Отменяем обтекание */
            }
            .button {
                background-color: #ddd;
                border: none;
                color: black;
                padding: 10px 20px;
                text-align: center;
                text-decoration: none;
                display: inline-block;
                margin: 4px 2px;
                cursor: pointer;
                border-radius: 16px;
            }
            #foot { /* Нижний блок */
                padding: 5px; /* Поля вокруг текста */
                clear: both; /* Отменяем обтекание */
                align-self: center;
            }


            ul, #myUL {
            list-style-type: none;
            }

            #myUL {
            margin: 0;
            padding: 0;
            }

            .caret {
            cursor: pointer;
            -webkit-user-select: none; /* Safari 3.1+ */
            -moz-user-select: none; /* Firefox 2+ */
            -ms-user-select: none; /* IE 10+ */
            user-select: none;
            }

            .caret::before {
            content: "\25B6";
            color: rgb(255, 245, 230);
            display: inline-block;
            margin-right: 6px;
            }

            .caret-down::before {
            transform: rotate(90deg);  
            }

            .nested {
            display: none;
            }

            .active {
            display: block;
            }

            #main-icon {
                margin: 10px 10px 10px 10px;
                width: 28px;
                padding: 5px;
                padding-bottom: 2px;
                border-radius: 30%;
                background: #353535;
            }
           </style>
    </head>
    <body>
        <!-- <div id="main-icon">
            <img src="{% static 'main.svg' %}" width="28px"/>
        </div> -->
        <br/>
        <h1 align="center">Тестовый вариант сайта по ЦЭ от Спайда и Журы</h1>
        <div id="menu">
            {% tree "workdir" %}
        </div>
        <div id="content">
            <h2>{{ work_name }}</h2>
            {% if task_name %}
                <h2>Задача: {{task_name}}</h2>
                <br/>
            {% endif %}
            {% block content %}
            {% endblock %}
            <div id="foot" style="position: fixed; bottom: 10px">
                {% block foot %}
                {% endblock %}
            </div>
        </div>


        <script>
            var toggler = document.getElementsByClassName("caret");
            var i;
            
            for (i = 0; i < toggler.length; i++) {
              toggler[i].addEventListener("click", function() {
                this.parentElement.querySelector(".nested").classList.toggle("active");
                this.classList.toggle("caret-down");
              });
            }
        </script>
    </body>
</html>