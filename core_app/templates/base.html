{% load static %}
{% load laterem %}
<!DOCTYPE html>
<html>
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"> -->
    <head>
        <meta charset="UTF-8"/>
        <title>{{title}}</title>
        {% if theme == 'light' %}
            <link rel="shortcut icon" type="image/png" href="data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8' standalone='no'%3F%3E%3C!-- Created with Inkscape (http://www.inkscape.org/) --%3E%3Csvg width='5mm' height='5mm' viewBox='0 0 5 5' version='1.1' id='svg5' inkscape:version='1.2.1 (9c6d41e4, 2022-07-14)' sodipodi:docname='outline.svg' xml:space='preserve' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg'%3E%3Csodipodi:namedview id='namedview7' pagecolor='%23505050' bordercolor='%23ffffff' borderopacity='1' inkscape:pageshadow='0' inkscape:pageopacity='0' inkscape:pagecheckerboard='1' inkscape:document-units='mm' showgrid='false' inkscape:zoom='18.220483' inkscape:cx='11.333399' inkscape:cy='7.7385436' inkscape:window-width='1440' inkscape:window-height='900' inkscape:window-x='0' inkscape:window-y='0' inkscape:window-maximized='0' inkscape:current-layer='layer1' inkscape:showpageshadow='2' inkscape:deskcolor='%23505050' /%3E%3Cdefs id='defs2' /%3E%3Cg inkscape:label='Слой 1' inkscape:groupmode='layer' id='layer1'%3E%3Ccircle style='fill:%23ee8f6d; fill-opacity:1; stroke:%23ee8f6d; stroke-width:0.216657; stroke-linecap:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-dashoffset:0; stroke-opacity:1; paint-order:fill markers stroke' id='path120742' cx='2.5' cy='2.5000007' r='2.3916717' /%3E @media (prefes-color-scheme: dark) %7B %3Ccircle style='fill:%23ee8f6d; fill-opacity:1; stroke:%23ee754a; stroke-width:0.216657; stroke-linecap:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-dashoffset:0; stroke-opacity:1; paint-order:fill markers stroke' id='path120742' cx='2.5' cy='2.5000007' r='2.3916717' /%3E %7D %3Cpath id='path8732-3-8-4-9' style='color:%23000000;fill:%23ee754a;fill-opacity:1;stroke-width:0.0104548;stroke-linecap:round;-inkscape-stroke:none;paint-order:stroke markers fill' d='M 1.1747811,1.0070447 V 3.5455426 L 1.4008045,3.4150414 V 3.8161013 L 2.257405,3.3215399 3.8252188,4.2267383 V 1.6882411 L 3.5991942,1.8187425 V 1.4176617 L 2.7425739,1.912223 Z' /%3E%3Cpath style='color:%23000000;fill:%2360a3f8;fill-opacity:1;stroke-width:0.0104548;stroke-linecap:round;-inkscape-stroke:none;paint-order:stroke markers fill' d='M 3.3731699,2.276304 3.2764018,2.2204362 1.1747808,1.0070447 v 2.5384979 z' id='path8732-3-8-4-7-4' sodipodi:nodetypes='ccccc' /%3E%3Cpath style='color:%23000000;fill:%23befb61;fill-opacity:1;stroke-width:0.0104548;stroke-linecap:round;-inkscape-stroke:none;paint-order:stroke markers fill' d='m 1.4007919,2.6869139 0.096768,0.055868 2.1016212,1.2133907 v -2.538497 z' id='path8732-2-9-1-6' sodipodi:nodetypes='ccccc' /%3E%3C/g%3E%3C/svg%3E"/>
            <link rel="stylesheet" href="{% static 'css/stylesheet-light.css' %}"/>
        {% else %}
            <link rel="shortcut icon" type="image/png" href="data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8' standalone='no'%3F%3E%3C!-- Created with Inkscape (http://www.inkscape.org/) --%3E%3Csvg width='5mm' height='5mm' viewBox='0 0 5 5' version='1.1' id='svg5' inkscape:version='1.2.1 (9c6d41e410, 2022-07-14)' sodipodi:docname='outline-icon.svg' xml:space='preserve' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg'%3E%3Csodipodi:namedview id='namedview7' pagecolor='%23505050' bordercolor='%23ffffff' borderopacity='1' inkscape:pageshadow='0' inkscape:pageopacity='0' inkscape:pagecheckerboard='1' inkscape:document-units='mm' showgrid='false' inkscape:zoom='18.220483' inkscape:cx='8.0952849' inkscape:cy='7.7659851' inkscape:window-width='1440' inkscape:window-height='900' inkscape:window-x='0' inkscape:window-y='0' inkscape:window-maximized='0' inkscape:current-layer='layer1' inkscape:showpageshadow='2' inkscape:deskcolor='%23505050' /%3E%3Cdefs id='defs2' /%3E%3Cg inkscape:label='Слой 1' inkscape:groupmode='layer' id='layer1'%3E%3Ccircle style='fill:%23ee8f6d; fill-opacity:1; stroke:%23ee8f6d; stroke-width:0.216657; stroke-linecap:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-dashoffset:0; stroke-opacity:1; paint-order:fill markers stroke' id='path120742' cx='2.5' cy='2.5000007' r='2.3916717' /%3E @media (prefes-color-scheme: dark) %7B %3Ccircle style='fill:%23ee8f6d;fill-opacity:1;stroke:%23ee8f6d;stroke-width:0.216657;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;paint-order:fill markers stroke' id='circle5' cx='2.5' cy='2.5000007' r='2.3916717' /%3E %7D %3Cpath id='path8732-3-8-4-9' style='color:%23000000;fill:%23ee754a;fill-opacity:1;stroke-width:0.0104548;stroke-linecap:round;-inkscape-stroke:none;paint-order:stroke markers fill' d='M 1.1747811,1.0070447 V 3.5455426 L 1.4008045,3.4150414 V 3.8161013 L 2.257405,3.3215399 3.8252188,4.2267383 V 1.6882411 L 3.5991942,1.8187425 V 1.4176617 L 2.7425739,1.912223 Z' /%3E%3Cpath style='color:%23000000;fill:%2360a3f8;fill-opacity:1;stroke-width:0.0104548;stroke-linecap:round;-inkscape-stroke:none;paint-order:stroke markers fill' d='M 3.3731699,2.276304 3.2764018,2.2204362 1.1747808,1.0070447 v 2.5384979 z' id='path8732-3-8-4-7-4' sodipodi:nodetypes='ccccc' /%3E%3Cpath style='color:%23000000;fill:%23befb61;fill-opacity:1;stroke-width:0.0104548;stroke-linecap:round;-inkscape-stroke:none;paint-order:stroke markers fill' d='m 1.4007919,2.6869139 0.096768,0.055868 2.1016212,1.2133907 v -2.538497 z' id='path8732-2-9-1-6' sodipodi:nodetypes='ccccc' /%3E%3C/g%3E%3C/svg%3E%0A"/>
            <link rel="stylesheet" href="{% static 'css/stylesheet-dark.css' %}"/>
        {% endif %}
    </head>
    <body>
        <div>
            <aside id="menu">
                {% tree "workdir" %}
            </aside>
            {% if task_list %}
                <aside id="content" style="bottom: 30px;">
            {% else %}
                <aside id="content">
            {% endif %}
                <form method="post">
                    {% csrf_token %}
                    {{ work_name }}
                    <br/>
                    {% if task_name %}
                        Задача: {{task_name}}
                        <br/>
                    {% endif %}
                    {% block content %}
                    {% endblock %}
                </form>
            </aside>
            {% if task_list %}
                <aside id="foot">
                    <div>
                        {% block foot %}
                        {% endblock %}
                    </div>
                </aside>
            {% endif %}
            <aside id="right-side">
                {% block right-side %}
                {% endblock %}
            </aside>
        </div>
        <script src="{% static 'js/caret-manager.js' %}"></script>
    </body>
    <header role="banner" class="header">
        <div class="header dropdown">
            <div id="main-icon" class="header">
                {% include "icons/main-icon.html" %}
            </div>
            <div class="header dropdown-items">
                <div id="header-dropdown-item">
                    <a href="/">Система решения задач</a>
                </div>
                <div id="header-dropdown-item">
                    <a href="/teacher/manage_users/">Панель управления учителя</a>
                </div>
            </div>

        </div>
        <h1 class="header">Laterem</h1>
        <div style="float: right; clear:left; vertical-align: middle;" class="header">
            <div id="main-icon" class="header" style="padding-right:2px; margin-right: -2px; margin-top: 17px; width: 20px; height: 22px; padding-left: 2px; padding-top: 2px;">
                {% include "icons/user-icon.html" %}
            </div>
            <div style="vertical-align: -6px; margin-left: 0px;" class="header">{{user.username}} | 
                <form method="post" class="header">
                    {% csrf_token %}
                    <button type="submit" class="button, header" name="change-color-theme">{% include "icons/change-color-icon.html" %}</button>
                </form>
            </div>
            <div style="width: 5px;" class="header"></div>
        </div>
        <div width="100vh" style="background-color: var(--header-gradient-bottom); height: 1px; position: fixxed; bottom: 0px;">
        </div>
    </header>
</html>